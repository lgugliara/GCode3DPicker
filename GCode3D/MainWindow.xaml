<Window x:Class="GCode3D.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vs="clr-namespace:GCode3D.Views"
    xmlns:vms="clr-namespace:GCode3D.ViewModels"
    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
    mc:Ignorable="d" Height="Auto" Width="1200"
    WindowStyle="None"
    ResizeMode="CanResizeWithGrip" Background="Transparent" AllowsTransparency="True">
    <Window.DataContext>
        <vms:AppViewModel />
    </Window.DataContext>
    
    <Window.Resources>
        <Storyboard x:Key="MouseEnterStoryboard">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.2"/>
        </Storyboard>

        <Storyboard x:Key="MouseLeaveStoryboard">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" To="0.7" Duration="0:0:0.2"/>
        </Storyboard>
    </Window.Resources>

    <Window.FontFamily>
        <FontFamily>Montserrat</FontFamily>
    </Window.FontFamily>

    <Border ClipToBounds="True" CornerRadius="30" Background="#272537">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            
            <!-- Window Bar -->
            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <Border Grid.Column="1" Height="20" Width="20" CornerRadius="20" Background="Red" Margin="0, 30, 30, 0">
                    <Button Foreground="White" Background="Transparent" BorderThickness="0" Click="AppClose_Click" />
                </Border>
            </Grid>
            
            <!-- Main Content -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="600" />
                </Grid.ColumnDefinitions>

                <!-- Picker -->
                <vs:Picker Grid.Column="0" DataContext="{Binding PickerViewModel}" />

                <!-- Preview -->
                <vs:Preview Grid.Column="1" DataContext="{Binding PreviewViewModel}" />
            </Grid>            
            
            <!-- Running Program -->
            <vs:Running Grid.Row="2" DataContext="{Binding RunningViewModel}" />
        </Grid>
    </Border>
</Window>